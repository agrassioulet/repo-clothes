<div id="login_panel">

    <button type="button" class="mb-4" (click)="togglePanel()">CLOSE</button>

    <form action="">
        <!-- <h2>
            <button class="hide_button_style" (click)="mode='connexion'">CONNEXION</button>
            <span> / </span>
            <button class="hide_button_style" (click)="mode='subscription'">INSCRIPTION</button>
        </h2> -->
        <mat-button-toggle-group #toggleBtn="matButtonToggleGroup" value="connexion" (change)="mode=toggleBtn.value" class="mb-4">
            <mat-button-toggle value="connexion">CONNEXION</mat-button-toggle>
            <mat-button-toggle value="subscription">INSCRIPTION</mat-button-toggle>
        </mat-button-toggle-group>

        <div>
            <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Saisissez votre identifiant</mat-label>
                <input matInput [formControl]="loginFormControl" placeholder="Mon identifiant">
                <mat-error *ngIf="!loginFormControl.hasError('required')">
                    Please enter a valid login
                </mat-error>
                <mat-error *ngIf="loginFormControl.hasError('required')">
                    Login is <strong>required</strong>
                </mat-error>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Saisissez votre mot de passe</mat-label>
                <input matInput [formControl]="passwordFormControl" placeholder="Mon mot de passe">
                <mat-error *ngIf="!passwordFormControl.hasError('required')">
                    Please enter a valid email address
                </mat-error>
                <mat-error *ngIf="passwordFormControl.hasError('required')">
                    Password is <strong>required</strong>
                </mat-error>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Saisissez votre e-mail</mat-label>
                <input type="email" matInput [formControl]="emailFormControl" placeholder="Ex. pat@example.com">
                <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                    Please enter a valid email address
                </mat-error>
                <mat-error *ngIf="emailFormControl.hasError('required')">
                    Email is <strong>required</strong>
                </mat-error>
            </mat-form-field>
        </div>


        <div>
            <button *ngIf="!_auth.isUserLogin() && mode=='connexion'" type="button" (click)="onLogin()" 
            class="connect_button">SE CONNECTER</button>
            <button *ngIf="!_auth.isUserLogin() && mode=='subscription'" type="button" (click)="onRegister()" 
            class="connect_button">S'INSCRIRE</button>
            <button *ngIf="_auth.isUserLogin()" type="button" (click)="onLogout()" 
            class="connect_button">SE DECONNECTER</button>
            <p *ngIf="_auth.isUserLogin()" class="text-success">Vous êtes connecté</p>
            <p *ngIf="!_auth.isUserLogin() && result=='loginFail'" class="text-dark">La connexion a échouée</p>
            <p *ngIf="!_auth.isUserLogin() && result=='registerFail'" class="text-dark">L'inscription a échouée</p>

        </div>

        <!-- {{ mode=='connexion' ? 'SE CONNECTER' : "S'INSCRIRE" }} -->
    </form>



</div>